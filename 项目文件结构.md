# 项目文件结构

## 📁 目录结构

```
sui-token-transfer-tracker/
├── 📄 README.md                   # 主要项目文档
├── 📄 Cargo.toml                  # Rust 项目配置
├── 📄 Cargo.lock                  # 依赖锁定文件
├── 📄 build.rs                    # 构建脚本
├── 📄 ARCHITECTURE.md             # 项目架构文档
├── 📄 REQUIREMENTS.md             # 项目需求文档
├── 📄 TECHNICAL_REQUIREMENTS.md   # 技术需求文档
│
├── 📂 src/                        # 源代码目录
│   ├── 📄 main.rs                 # 主程序入口
│   ├── 📄 lib.rs                  # 库入口文件
│   ├── 📄 config.rs               # 配置管理
│   ├── 📄 error.rs                # 错误处理
│   ├── 📄 event_monitor.rs        # 事件监控
│   ├── 📄 sui_client.rs           # SUI 客户端
│   ├── 📄 transaction_processor.rs # 交易处理
│   ├── 📄 alert_system.rs         # 警报系统
│   └── 📄 output_formatter.rs     # 输出格式化
│
├── 📂 examples/                   # 示例程序目录
│   ├── 📄 demo.rs                 # 演示程序
│   ├── 📄 query_address_rpc.rs    # 地址查询示例
│   ├── 📄 simple_sui_test.rs      # 网络连接测试
│   └── 📄 test_formatter.rs       # 格式化测试
│
├── 📂 config/                     # 配置文件目录
│   ├── 📄 example.toml            # 示例配置文件
│   ├── 📄 demo.toml               # 演示配置文件
│   └── 📄 testnet.toml            # 测试网配置文件
│
├── 📂 tests/                      # 测试目录
│   ├── 📄 integration_tests.rs    # 集成测试
│   └── 📄 unit_tests.rs           # 单元测试
│
└── 📂 .claude/                    # Claude AI 配置
    └── 📄 settings.local.json
```

## 📄 文件说明

### 核心源码文件

| 文件 | 功能 | 关键特性 |
|------|------|----------|
| `src/main.rs` | 主程序入口 | 命令行解析、程序启动 |
| `src/lib.rs` | 库入口文件 | 核心 TokenTransferTracker 实现 |
| `src/config.rs` | 配置管理 | TOML 配置文件解析、命令行参数 |
| `src/error.rs` | 错误处理 | 统一错误类型、重试机制 |
| `src/event_monitor.rs` | 事件监控 | SUI 事件监听、数据转换 |
| `src/sui_client.rs` | SUI 客户端 | JSON-RPC 调用、网络通信 |
| `src/transaction_processor.rs` | 交易处理 | 交易数据处理、余额计算 |
| `src/alert_system.rs` | 警报系统 | 阈值监控、异常检测 |
| `src/output_formatter.rs` | 输出格式化 | 表格、JSON、CSV 输出 |

### 示例程序

| 文件 | 功能 | 用途 |
|------|------|------|
| `examples/demo.rs` | 完整演示 | 展示所有功能的完整示例 |
| `examples/query_address_rpc.rs` | 地址查询 | 真实 SUI 地址查询示例 |
| `examples/simple_sui_test.rs` | 网络测试 | 基本网络连接测试 |
| `examples/test_formatter.rs` | 格式化测试 | 输出格式化功能测试 |

### 配置文件

| 文件 | 用途 | 特点 |
|------|------|------|
| `config/example.toml` | 示例配置 | 完整的配置选项说明 |
| `config/demo.toml` | 演示配置 | 用于演示的简化配置 |
| `config/testnet.toml` | 测试网配置 | 测试网络专用配置 |

### 测试文件

| 文件 | 功能 | 范围 |
|------|------|------|
| `tests/integration_tests.rs` | 集成测试 | 完整功能流程测试 |
| `tests/unit_tests.rs` | 单元测试 | 单个模块功能测试 |

## 🚀 快速使用指南

### 1. 基本功能测试
```bash
# 查看版本信息
cargo run -- --version

# 生成配置文件
cargo run -- --generate-config

# 运行演示
cargo run --example demo
```

### 2. 真实地址查询
```bash
# 查询真实 SUI 地址
cargo run --example query_address_rpc

# 测试网络连接
cargo run --example simple_sui_test
```

### 3. 配置和监控
```bash
# 使用示例配置
cargo run -- --config config/example.toml

# 使用演示配置
cargo run -- --config config/demo.toml

# 使用测试网配置
cargo run -- --config config/testnet.toml
```

### 4. 开发和测试
```bash
# 运行所有测试
cargo test

# 运行单元测试
cargo test unit_tests

# 运行集成测试
cargo test integration_tests

# 格式化代码
cargo fmt

# 静态分析
cargo clippy

# 构建发布版本
cargo build --release
```

## 🔧 配置说明

### 主要配置区域

1. **网络配置 (network)**
   - RPC 端点 URL
   - WebSocket URL
   - 网络超时设置

2. **监控配置 (monitoring)**
   - 轮询间隔
   - 历史记录限制
   - 批处理大小

3. **地址配置 (addresses)**
   - 监控的 SUI 地址列表

4. **警报配置 (alerts)**
   - 余额阈值
   - 大额转账阈值
   - 警报输出设置

5. **输出配置 (output)**
   - 颜色支持
   - 时间戳显示
   - 输出格式选项

6. **日志配置 (logging)**
   - 日志级别
   - 日志文件路径
   - 日志轮转设置

## 📈 开发流程

### 构建流程
```bash
1. cargo check          # 检查编译
2. cargo test           # 运行测试
3. cargo clippy         # 静态分析
4. cargo fmt            # 代码格式化
5. cargo build --release # 构建发布版本
```

### 测试流程
```bash
1. cargo test unit_tests        # 单元测试
2. cargo test integration_tests # 集成测试
3. cargo run --example demo     # 功能演示
4. cargo run --example query_address_rpc # 真实测试
```

## 📚 文档层次

1. **README.md** - 用户入门指南
2. **ARCHITECTURE.md** - 系统架构设计
3. **REQUIREMENTS.md** - 功能需求规格
4. **TECHNICAL_REQUIREMENTS.md** - 技术实现规格
5. **项目文件结构.md** - 本文档，项目组织说明

这个整理后的项目结构更加清晰，删除了重复和无用的文件，保留了核心功能和有用的示例。